{"ast":null,"code":"import { CreativeActionType } from \"../types/creativeType\";\nconst getCreativeRequest = () => ({\n  type: CreativeActionType.GET_CREATIVE_REQUEST,\n  loading: true,\n  error: null\n});\nconst getCreativeSuccess = payload => ({\n  type: CreativeActionType.GET_CREATIVE_SUCCESS,\n  payload: payload,\n  loading: false,\n  error: null\n});\nconst getCreativeFailure = error => ({\n  type: CreativeActionType.GET_CREATIVE_FAILURE,\n  loading: false,\n  error: error\n});\nconst editCreativeRequest = () => ({\n  type: CreativeActionType.UPDATE_CREATIVE_REQUEST,\n  loading: true,\n  error: null\n});\nconst editCreativeSuccess = payload => ({\n  type: CreativeActionType.UPDATE_CREATIVE_SUCCESS,\n  payload: payload,\n  loading: false,\n  error: null\n});\nconst editCreativeFailure = error => ({\n  type: CreativeActionType.UPDATE_CREATIVE_FAILURE,\n  loading: false,\n  error: error\n});\nexport const getCreative = username => {\n  return async dispatch => {\n    dispatch(getCreativeRequest());\n    try {\n      const response = await fetch(`http://localhost:8080/api/creatives/${username}`);\n      if (response.ok) {\n        const data = await response.json();\n        dispatch(getCreativeSuccess(data));\n      } else {\n        throw new Error(\"Failed reading creative\");\n      }\n    } catch (error) {\n      if (error instanceof Error) {\n        dispatch(getCreativeFailure(error.message));\n      } else {\n        dispatch(getCreativeFailure(\"An unknown error occurred reading creative.\"));\n      }\n    }\n  };\n};\nexport const editCreative = (id, token, creative) => {\n  return async dispatch => {\n    dispatch(editCreativeRequest());\n    try {\n      const formData = new FormData();\n      formData.append(\"username\", creative.username || \"\");\n      formData.append(\"password\", creative.password || \"\");\n      formData.append(\"firstname\", creative.firstname || \"\");\n      formData.append(\"lastname\", creative.lastname || \"\");\n      formData.append(\"stageName\", creative.stageName || \"\");\n      formData.append(\"bio\", creative.bio || \"\");\n      formData.append(\"city\", creative.city || \"\");\n      formData.append(\"state\", creative.state || \"\");\n      if (creative.image) {\n        formData.append(\"image\", creative.image);\n      }\n      if (creative.skills) {\n        creative.skills.forEach(skill => formData.append(\"skills\", skill));\n      }\n      if (creative.professions) {\n        creative.professions.forEach(profession => formData.append(\"professions\", profession));\n      }\n      const response = await fetch(`http://localhost:8080/api/creatives/${id}`, {\n        method: \"PUT\",\n        headers: {\n          Authorization: `Bearer ${token}`\n        },\n        body: formData\n      });\n      if (response.ok) {\n        const data = await response.json();\n        dispatch(editCreativeSuccess(data));\n        return data;\n      } else {\n        throw new Error(\"Failed to edit creative\");\n      }\n    } catch (error) {\n      if (error instanceof Error) {\n        dispatch(editCreativeFailure(error.message));\n      } else {\n        dispatch(editCreativeFailure(\"An unknown error occurred while editing the creative.\"));\n      }\n    }\n  };\n};","map":{"version":3,"names":["CreativeActionType","getCreativeRequest","type","GET_CREATIVE_REQUEST","loading","error","getCreativeSuccess","payload","GET_CREATIVE_SUCCESS","getCreativeFailure","GET_CREATIVE_FAILURE","editCreativeRequest","UPDATE_CREATIVE_REQUEST","editCreativeSuccess","UPDATE_CREATIVE_SUCCESS","editCreativeFailure","UPDATE_CREATIVE_FAILURE","getCreative","username","dispatch","response","fetch","ok","data","json","Error","message","editCreative","id","token","creative","formData","FormData","append","password","firstname","lastname","stageName","bio","city","state","image","skills","forEach","skill","professions","profession","method","headers","Authorization","body"],"sources":["C:/Users/sarac/OneDrive/Desktop/Capstone Project/maze/src/actions/creativeAction.ts"],"sourcesContent":["import { Dispatch } from \"redux\";\r\nimport {\r\n  CreativeActionType,\r\n  CreativeAction,\r\n  Creative,\r\n} from \"../types/creativeType\";\r\nimport { AnyAction } from \"@reduxjs/toolkit\";\r\n\r\nconst getCreativeRequest = (): CreativeAction => ({\r\n  type: CreativeActionType.GET_CREATIVE_REQUEST,\r\n  loading: true,\r\n  error: null,\r\n});\r\n\r\nconst getCreativeSuccess = (payload: Creative): CreativeAction => ({\r\n  type: CreativeActionType.GET_CREATIVE_SUCCESS,\r\n  payload: payload,\r\n  loading: false,\r\n  error: null,\r\n});\r\n\r\nconst getCreativeFailure = (error: string): CreativeAction => ({\r\n  type: CreativeActionType.GET_CREATIVE_FAILURE,\r\n  loading: false,\r\n  error: error,\r\n});\r\n\r\nconst editCreativeRequest = (): CreativeAction => ({\r\n  type: CreativeActionType.UPDATE_CREATIVE_REQUEST,\r\n  loading: true,\r\n  error: null,\r\n});\r\n\r\nconst editCreativeSuccess = (payload: Creative): CreativeAction => ({\r\n  type: CreativeActionType.UPDATE_CREATIVE_SUCCESS,\r\n  payload: payload,\r\n  loading: false,\r\n  error: null,\r\n});\r\n\r\nconst editCreativeFailure = (error: string): CreativeAction => ({\r\n  type: CreativeActionType.UPDATE_CREATIVE_FAILURE,\r\n  loading: false,\r\n  error: error,\r\n});\r\n\r\nexport const getCreative = (username: string) => {\r\n  return async (dispatch: Dispatch<AnyAction>) => {\r\n    dispatch(getCreativeRequest());\r\n    try {\r\n      const response = await fetch(\r\n        `http://localhost:8080/api/creatives/${username}`\r\n      );\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        dispatch(getCreativeSuccess(data));\r\n      } else {\r\n        throw new Error(\"Failed reading creative\");\r\n      }\r\n    } catch (error: unknown | Error) {\r\n      if (error instanceof Error) {\r\n        dispatch(getCreativeFailure(error.message));\r\n      } else {\r\n        dispatch(\r\n          getCreativeFailure(\"An unknown error occurred reading creative.\")\r\n        );\r\n      }\r\n    }\r\n  };\r\n};\r\n\r\nexport const editCreative = (\r\n  id: number,\r\n  token: string,\r\n  creative: {\r\n    username: string | null;\r\n    password: string | null;\r\n    firstname: string | null;\r\n    lastname: string | null;\r\n    stageName: string | null;\r\n    bio: string | null;\r\n    city: string | null;\r\n    state: string | null;\r\n    image: File | null;\r\n    skills: string[] | null;\r\n    professions: string[] | null;\r\n  }\r\n) => {\r\n  return async (dispatch: Dispatch<AnyAction>) => {\r\n    dispatch(editCreativeRequest());\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append(\"username\", creative.username || \"\");\r\n      formData.append(\"password\", creative.password || \"\");\r\n      formData.append(\"firstname\", creative.firstname || \"\");\r\n      formData.append(\"lastname\", creative.lastname || \"\");\r\n      formData.append(\"stageName\", creative.stageName || \"\");\r\n      formData.append(\"bio\", creative.bio || \"\");\r\n      formData.append(\"city\", creative.city || \"\");\r\n      formData.append(\"state\", creative.state || \"\");\r\n      if (creative.image) {\r\n        formData.append(\"image\", creative.image);\r\n      }\r\n      if (creative.skills) {\r\n        creative.skills.forEach((skill) => formData.append(\"skills\", skill));\r\n      }\r\n      if (creative.professions) {\r\n        creative.professions.forEach((profession) =>\r\n          formData.append(\"professions\", profession)\r\n        );\r\n      }\r\n\r\n      const response = await fetch(\r\n        `http://localhost:8080/api/creatives/${id}`,\r\n        {\r\n          method: \"PUT\",\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n          body: formData,\r\n        }\r\n      );\r\n\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        dispatch(editCreativeSuccess(data));\r\n        return data;\r\n      } else {\r\n        throw new Error(\"Failed to edit creative\");\r\n      }\r\n    } catch (error: unknown | Error) {\r\n      if (error instanceof Error) {\r\n        dispatch(editCreativeFailure(error.message));\r\n      } else {\r\n        dispatch(\r\n          editCreativeFailure(\r\n            \"An unknown error occurred while editing the creative.\"\r\n          )\r\n        );\r\n      }\r\n    }\r\n  };\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}